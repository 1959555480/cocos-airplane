{"version":3,"sources":["file:///D:/yyx/cocos-airplane/assets/script/MoveSceneBg.ts"],"names":["_decorator","Component","Node","ccclass","property","MoveSceneBg","_bgSpeed","_bgMovingRange","start","_init","update","deltaTime","_moveBackground","bg01","setPosition","bg02","position","z"],"mappings":";;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,I,OAAAA,I;;;;;;;OAC1B;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;6BAGjBK,W,WADZF,OAAO,CAAC,aAAD,C,UAELC,QAAQ,CAACF,IAAD,C,UAGRE,QAAQ,CAACF,IAAD,C,2BALX,MACaG,WADb,SACiCJ,SADjC,CAC2C;AAAA;AAAA;;AAAA;;AAAA;;AAAA,eAOjCK,QAPiC,GAOtB,CAPsB;AAAA,eAQjCC,cARiC,GAQhB,EARgB;AAAA;;AAUzCC,QAAAA,KAAK,GAAG;AACN,eAAKC,KAAL;AACD;;AAEDC,QAAAA,MAAM,CAACC,SAAD,EAAoB;AACxB,eAAKC,eAAL,CAAqBD,SAArB;AACD;;AAEOF,QAAAA,KAAK,GAAG;AACd,eAAKI,IAAL,CAAUC,WAAV,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAA5B;AACA,eAAKC,IAAL,CAAUD,WAAV,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,CAAC,KAAKP,cAAlC;AACD;;AAEOK,QAAAA,eAAe,CAACD,SAAD,EAAoB;AACzC,eAAKE,IAAL,CAAUC,WAAV,CACE,CADF,EAEE,CAFF,EAGE,KAAKD,IAAL,CAAUG,QAAV,CAAmBC,CAAnB,GAAuB,KAAKX,QAAL,GAAgBK,SAHzC;AAKA,eAAKI,IAAL,CAAUD,WAAV,CACE,CADF,EAEE,CAFF,EAGE,KAAKC,IAAL,CAAUC,QAAV,CAAmBC,CAAnB,GAAuB,KAAKX,QAAL,GAAgBK,SAHzC;;AAKA,cAAI,KAAKE,IAAL,CAAUG,QAAV,CAAmBC,CAAnB,GAAuB,KAAKV,cAAhC,EAAgD;AAC9C,iBAAKM,IAAL,CAAUC,WAAV,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,KAAKC,IAAL,CAAUC,QAAV,CAAmBC,CAAnB,GAAuB,KAAKV,cAAxD;AACD,WAFD,MAEO,IAAI,KAAKQ,IAAL,CAAUC,QAAV,CAAmBC,CAAnB,GAAuB,KAAKV,cAAhC,EAAgD;AACrD,iBAAKQ,IAAL,CAAUD,WAAV,CAAsB,CAAtB,EAAyB,CAAzB,EAA4B,KAAKD,IAAL,CAAUG,QAAV,CAAmBC,CAAnB,GAAuB,KAAKV,cAAxD;AACD;AACF;;AAvCwC,O;;;;;iBAE5B,I;;;;;;;iBAGA,I","sourcesContent":["import { _decorator, Component, Node } from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"MoveSceneBg\")\r\nexport class MoveSceneBg extends Component {\r\n  @property(Node)\r\n  bg01: Node = null;\r\n\r\n  @property(Node)\r\n  bg02: Node = null;\r\n\r\n  private _bgSpeed = 1;\r\n  private _bgMovingRange = 10;\r\n\r\n  start() {\r\n    this._init();\r\n  }\r\n\r\n  update(deltaTime: number) {\r\n    this._moveBackground(deltaTime);\r\n  }\r\n\r\n  private _init() {\r\n    this.bg01.setPosition(0, 0, 0);\r\n    this.bg02.setPosition(0, 0, -this._bgMovingRange);\r\n  }\r\n\r\n  private _moveBackground(deltaTime: number) {\r\n    this.bg01.setPosition(\r\n      0,\r\n      0,\r\n      this.bg01.position.z + this._bgSpeed * deltaTime\r\n    );\r\n    this.bg02.setPosition(\r\n      0,\r\n      0,\r\n      this.bg02.position.z + this._bgSpeed * deltaTime\r\n    );\r\n    if (this.bg01.position.z > this._bgMovingRange) {\r\n      this.bg01.setPosition(0, 0, this.bg02.position.z - this._bgMovingRange);\r\n    } else if (this.bg02.position.z > this._bgMovingRange) {\r\n      this.bg02.setPosition(0, 0, this.bg01.position.z - this._bgMovingRange);\r\n    }\r\n  }\r\n}\r\n"]}